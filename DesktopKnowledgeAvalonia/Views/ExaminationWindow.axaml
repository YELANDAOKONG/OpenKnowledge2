<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:DesktopKnowledgeAvalonia.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="DesktopKnowledgeAvalonia.Views.ExaminationWindow"
        Icon="/Assets/avalonia-logo.ico"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        ExtendClientAreaToDecorationsHint="True"
        Title="OpenKnowledge Examination"
        MinWidth="800"
        MinHeight="600"
        >
        
    <Grid RowDefinitions="Auto,*,Auto">
        <!-- Top header with exam info and controls -->
        <Grid Grid.Row="0" ColumnDefinitions="Auto,*,Auto" Margin="0,32,0,10">
            <Button Grid.Column="0" Margin="10,0" Classes="Transparent">
                <PathIcon Data="M10.78 19.03a.75.75 0 0 1-1.06 0l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.75.75 0 0 1 1.06 1.06L5.81 11.5h13.44a.75.75 0 0 1 0 1.5H5.81l4.97 4.97a.75.75 0 0 1 0 1.06z" Width="16" Height="16" />
            </Button>
            
            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                <TextBlock Text="2024年高等数学期末考试" Classes="H5" 
                           HorizontalAlignment="Center" FontWeight="SemiBold"/>
                <TextBlock Text="高等数学（理工类）" 
                           HorizontalAlignment="Center" Opacity="0.7" Margin="0,5,0,0"/>
            </StackPanel>
            
            <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="10,0" Spacing="10">
                <TextBlock Text="剩余时间: 01:23:45" VerticalAlignment="Center"/>
                <Button Classes="Accent">提交考试</Button>
            </StackPanel>
        </Grid>
        
        <!-- Main content area -->
        <Grid Grid.Row="1" ColumnDefinitions="240,*" Margin="10,0">
            <!-- Left sidebar with sections and questions list -->
            <Border Grid.Column="0" Margin="0,0,10,0" CornerRadius="8" 
                    Background="#1AFFFFFF" Padding="10">
                <Grid RowDefinitions="Auto,*">
                    <TextBlock Text="章节与题目" FontWeight="SemiBold" Grid.Row="0" Margin="5"/>
                    
                    <ScrollViewer Grid.Row="1" Margin="0,10,0,0">
                        <StackPanel>
                            <Expander Header="第一章：微分学基础" Margin="0,0,0,5" IsExpanded="True">
                                <StackPanel>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="1" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="求下列函数的导数" TextTrimming="CharacterEllipsis"/>
                                            <PathIcon Grid.Column="2" Data="M10.09 13.5 7.02 10.4a.75.75 0 0 0-1.06 1.06l3.5 3.5a1 1 0 0 0 1.42 0l7.5-7.5a.75.75 0 1 0-1.06-1.06l-7.23 7.1Z" 
                                                      Width="12" Height="12" Margin="8,0,0,0"/>
                                        </Grid>
                                    </Button>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left" Background="#22569AFF"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="2" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="计算下列积分" TextTrimming="CharacterEllipsis"/>
                                            <PathIcon Grid.Column="2" Data="M10.09 13.5 7.02 10.4a.75.75 0 0 0-1.06 1.06l3.5 3.5a1 1 0 0 0 1.42 0l7.5-7.5a.75.75 0 1 0-1.06-1.06l-7.23 7.1Z" 
                                                      Width="12" Height="12" Margin="8,0,0,0"/>
                                        </Grid>
                                    </Button>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="3" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="曲线 y=x²sin(x) 在点..." TextTrimming="CharacterEllipsis"/>
                                        </Grid>
                                    </Button>
                                </StackPanel>
                            </Expander>
                            
                            <Expander Header="第二章：线性代数" Margin="0,0,0,5">
                                <StackPanel>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="4" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="计算矩阵的行列式" TextTrimming="CharacterEllipsis"/>
                                        </Grid>
                                    </Button>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="5" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="求解线性方程组" TextTrimming="CharacterEllipsis"/>
                                        </Grid>
                                    </Button>
                                </StackPanel>
                            </Expander>
                            
                            <Expander Header="第三章：概率论" Margin="0,0,0,5">
                                <StackPanel>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="6" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="计算概率分布" TextTrimming="CharacterEllipsis"/>
                                        </Grid>
                                    </Button>
                                    <Button Classes="Subtle" HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
                                        <Grid ColumnDefinitions="Auto,*,Auto">
                                            <TextBlock Grid.Column="0" Text="7" Margin="0,0,8,0"/>
                                            <TextBlock Grid.Column="1" Text="计算标准差与期望值" TextTrimming="CharacterEllipsis"/>
                                        </Grid>
                                    </Button>
                                </StackPanel>
                            </Expander>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </Border>
            
            <!-- Right content area with question display and answer area -->
            <Border Grid.Column="1" CornerRadius="8" 
                    Background="#1AFFFFFF" Padding="20">
                <Grid RowDefinitions="Auto,*,Auto">
                    <!-- Question information -->
                    <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,10">
                        <StackPanel Grid.Column="0">
                            <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,5">
                                <TextBlock Text="计算题" 
                                           Classes="Subtitle" Foreground="#569AFF"/>
                                <TextBlock Text="(10分)" 
                                           Classes="Subtitle" Opacity="0.7"/>
                            </StackPanel>
                            <TextBlock Text="题目 2" FontWeight="SemiBold"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
                            <Button Classes="Transparent">
                                <PathIcon Data="M5 5v14h14V5H5zm0-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm7 4a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm0 8c-.28 0-.5-.22-.5-.5V11a.5.5 0 0 1 1 0v3.5c0 .28-.22.5-.5.5z" Width="16" Height="16"/>
                            </Button>
                            <Button Classes="Transparent">
                                <PathIcon Data="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 6c.55 0 1 .45 1 1v4a1 1 0 1 1-2 0v-4c0-.55.45-1 1-1zm0-2.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z" Width="16" Height="16"/>
                            </Button>
                        </StackPanel>
                    </Grid>
                    
                    <!-- Question content and answer area -->
                    <ScrollViewer Grid.Row="1" Margin="0,10">
                        <StackPanel Spacing="20">
                            <!-- Question stem -->
                            <TextBlock Text="计算下列定积分: ∫(0 to π/2) sin²(x) dx" 
                                       TextWrapping="Wrap" FontSize="16"/>
                            
                            <!-- Reference materials if any -->
                            <Expander Header="参考资料">
                                <StackPanel Margin="0,5">
                                    <TextBlock Text="提示：可以考虑使用以下三角恒等式：sin²(x) = (1 - cos(2x))/2" 
                                               TextWrapping="Wrap" Margin="0,3"/>
                                    <TextBlock Text="此外，也可以利用直接计算的方法，结合分部积分法。" 
                                               TextWrapping="Wrap" Margin="0,3"/>
                                    <Image Source="avares://DesktopKnowledgeAvalonia/Assets/avalonia-logo.ico" 
                                           MaxHeight="300" Margin="0,10"/>
                                </StackPanel>
                            </Expander>
                            
                            <!-- Answer area - showing calculation question template -->
                            <TextBox Watermark="请在此输入解题过程和答案..." 
                                     AcceptsReturn="True" TextWrapping="Wrap" MinHeight="200"
                                     Text="∫(0 to π/2) sin²(x) dx = ∫(0 to π/2) (1 - cos(2x))/2 dx&#x0A;= [x/2 - sin(2x)/4](0 to π/2)&#x0A;= π/4 - 0&#x0A;= π/4"/>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Navigation controls -->
                    <Grid Grid.Row="2" ColumnDefinitions="Auto,*,Auto" Margin="0,10,0,0">
                        <Button Grid.Column="0" Content="上一题" />
                        
                        <StackPanel Grid.Column="1" HorizontalAlignment="Center" Orientation="Horizontal">
                            <TextBlock Text="2" VerticalAlignment="Center"/>
                            <TextBlock Text=" / " VerticalAlignment="Center"/>
                            <TextBlock Text="7" VerticalAlignment="Center"/>
                        </StackPanel>
                        
                        <Button Grid.Column="2" Content="下一题" Classes="Accent"/>
                    </Grid>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Bottom progress bar -->
        <Grid Grid.Row="2" Margin="10,10,10,20">
            <StackPanel>
                <Grid ColumnDefinitions="*,Auto">
                    <TextBlock Grid.Column="0" Text="考试进度" FontWeight="SemiBold"/>
                    <TextBlock Grid.Column="1" Text="29%"/>
                </Grid>
                <ProgressBar Value="29" Maximum="100" Height="8" Margin="0,5,0,0"/>
            </StackPanel>
        </Grid>
    </Grid>

</Window>
